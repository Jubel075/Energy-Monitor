\begin{figure}[H] % h to suggest the figure should be placed "here"
    \begin{minipage}{\linewidth}
        \centering
        \begin{tikzpicture}[
            % Define styles for the components
            block/.style={rectangle, draw, text centered, rounded corners, minimum height=2em, minimum width=3cm, fill=gray!10},
            arrow/.style={thick,->,>=stealth},
            sensor/.style={diamond, draw, text centered, minimum height=2em, minimum width=2em, fill=blue!10},
            storage/.style={cylinder, draw, shape border rotate=90, aspect=0.25, minimum height=2cm, minimum width=1cm, fill=green!20},
            frontend/.style={rectangle, draw, text centered, minimum height=2em, minimum width=3cm, fill=orange!20}  % Frontend style
        ]

        % Define nodes
        \node[block] (power) {Power Source};
        \node[sensor, below=of power] (sensor) {CT Sensor};
        \node[block, below=of sensor] (arduino) {Arduino Microcontroller};
        \node[storage, below=of arduino] (database) {Cloud Database};
        \node[frontend, below=3cm of database] (frontend) {Frontend Website};  % Add frontend website node

        % Draw arrows
        \draw[arrow] (power) -- (sensor) node[midway, right] {AC Current};
        \draw[arrow] (sensor) -- (arduino) node[midway, right] {Analog Signal};
        \draw[arrow] (arduino) -- (database) node[midway, right] {Energy Data (kWh)};
        \draw[arrow] (database) -- (frontend) node[midway, above] {Access Data};
        \draw[arrow] (power.west) -- ++(-2, 0) node[above] {Backend Code} |- (database.west);

        % Add annotations
        \node[below=0.3cm of database, align=center] {Data stored in PostgreSQL};
        \node[below=0.3cm of frontend, align=center] {User views data through web interface};

        \end{tikzpicture}
        \caption{\small \indent Process Flow Diagram of the Energy Monitoring System with Frontend Website for Data Viewing}
        \label{fig:PFD}
    \end{minipage}
\end{figure}
