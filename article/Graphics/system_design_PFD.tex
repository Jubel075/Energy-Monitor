\begin{minipage}{\linewidth}
    \centering
    \begin{tikzpicture}[
        % Define styles for the components
        block/.style={rectangle, draw, text centered, rounded corners, minimum height=2em, minimum width=3cm, fill=gray!10},
        arrow/.style={thick,->,>=stealth},
        sensor/.style={diamond, draw, text centered, minimum height=2em, minimum width=2em, fill=blue!10},
        storage/.style={cylinder, draw, shape border rotate=90, aspect=0.25, minimum height=2cm, minimum width=1cm, fill=green!20}
    ]
    
    % Define nodes
    \node[block] (power) {Power Source};
    \node[sensor, below=of power] (sensor) {CT Sensor};
    \node[block, below=of sensor] (arduino) {Arduino Microcontroller};
    \node[storage, below=of arduino] (database) {Cloud Database};

    % Draw arrows
    \draw[arrow] (power) -- (sensor) node[midway, right] {AC Current};
    \draw[arrow] (sensor) -- (arduino) node[midway, right] {Analog Signal};
    \draw[arrow] (arduino) -- (database) node[midway, right] {Energy Data (kWh)};

    % Add annotations
    \node[below=0.3cm of database, align=center] {Data stored in PostgreSQL database \\ accessible by web app};
    \end{tikzpicture}
    \captionof{figure}{\small \indent Process Flow Diagram of the Energy Monitoring System}
    \vspace{0.5cm}
    \label{fig:PFD}
\end{minipage}